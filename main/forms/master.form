<?xml version="1.0" encoding="utf-8"?>
<?data-format version="0.400"?>
<Form>
  <Name value="master" />
  <Caption value="master" />
  <Content>
    <Panel>
      <Name value="pnlMaster" />
      <Orientation value="Vertical" />
      <Panel.Height value="#" />
      <Panel.Width value="*" />
      <Children>
        <Label>
          <Name value="lblEnvironment" />
          <Panel.Height value="#" />
          <Panel.Width value="300px" />
          <Bindings>
            <Binding SourceProperty="Data" Expression="ui.environmentTypeDesc" />
            <Binding SourceProperty="IsVisible" Expression="ui.isEnvironmentVisible" />
          </Bindings>
          <CssClass>
            <CssClassConditional>
              <ClassName value="{theme}-label" />
              <IsThemedStyle value="True" />
            </CssClassConditional>
            <CssClassConditional>
              <ClassName value="{theme}-test" />
              <IsThemedStyle value="True" />
            </CssClassConditional>
          </CssClass>
        </Label>
        <Panel>
          <Name value="pnlMasterToggle" />
          <Orientation value="Horizontal" />
          <Panel.Height value="#" />
          <Panel.Width value="*" />
          <Children>
            <Panel>
              <Name value="pnlMasterToggleContent" />
              <Orientation value="Horizontal" />
              <Panel.Height value="#" />
              <Panel.Width value="*" />
              <Children>
                <ImageButton identity="ImageButton.d5705fac3ef94ff185b0260525af877a">
                  <Name value="btn_toggleMenu" />
                  <Accessibility.AriaLabel value="" />
                  <Caption value=" {fa-bars}" />
                  <Panel.Height value="#" />
                  <Panel.Width value="*" />
                  <OnClick>
                    <ActionEvent ReferencedAction="~handler_btn_toggleMenu_OnClick" />
                  </OnClick>
                  <CssClass>
                    <CssClassConditional>
                      <ClassName value="{theme}-imagebutton" />
                      <IsThemedStyle value="True" />
                    </CssClassConditional>
                    <CssClassConditional>
                      <ClassName value="mainMenu" />
                    </CssClassConditional>
                  </CssClass>
                </ImageButton>
                <CustomHtml>
                  <Name value="spinnerCodelistDownload" />
                  <HtmlMarkup><![CDATA[<i class="fa fa-spinner fa-spin" aria-hidden="true"></i>]]></HtmlMarkup>
                  <Panel.Height value="#" />
                  <Panel.VerticalAlignment value="Middle" />
                  <Panel.Width value="*" />
                  <Bindings>
                    <Binding SourceProperty="Data" Expression="" />
                    <Binding SourceProperty="IsVisible" Expression="globals.forms.master.isDownloadingCodelists" />
                  </Bindings>
                  <CssClass>
                    <CssClassConditional>
                      <ClassName value="{theme}-customhtml" />
                      <IsThemedStyle value="True" />
                    </CssClassConditional>
                    <CssClassConditional>
                      <ClassName value="cd-download-spinner" />
                    </CssClassConditional>
                  </CssClass>
                </CustomHtml>
                <Label>
                  <Name value="lblCodelistDownload" />
                  <Data value="Probíhá stahování číselníků..." />
                  <Panel.Height value="#" />
                  <Panel.VerticalAlignment value="Middle" />
                  <Panel.Width value="110px" />
                  <Bindings>
                    <Binding SourceProperty="IsVisible" Expression="globals.forms.master.isDownloadingCodelists" />
                  </Bindings>
                  <CssClass>
                    <CssClassConditional>
                      <ClassName value="{theme}-label" />
                      <IsThemedStyle value="True" />
                    </CssClassConditional>
                  </CssClass>
                </Label>
              </Children>
              <CssClass>
                <CssClassConditional>
                  <ClassName value="{theme}-panel" />
                  <IsThemedStyle value="True" />
                </CssClassConditional>
                <CssClassConditional>
                  <ClassName value="width-auto" />
                </CssClassConditional>
              </CssClass>
            </Panel>
            <Panel>
              <Name value="pnlClearNotifications" />
              <Orientation value="Horizontal" />
              <Panel.Height value="#" />
              <Panel.VerticalAlignment value="Middle" />
              <Panel.Width value="*" />
              <OnClick>
                <ActionEvent ReferencedAction="~handler_pnlClearNotifications_OnClick" />
              </OnClick>
              <Children>
                <Label>
                  <Name value="lblClearNotifications" />
                  <Data value=" " />
                  <Panel.Height value="#" />
                  <Panel.VerticalAlignment value="Middle" />
                  <Panel.Width value="*" />
                  <Bindings>
                    <Binding SourceProperty="IsVisible" Expression="globals.forms.master.notificationClearVisible" />
                  </Bindings>
                  <CssClass>
                    <CssClassConditional>
                      <ClassName value="{theme}-label" />
                      <IsThemedStyle value="True" />
                    </CssClassConditional>
                    <CssClassConditional>
                      <ClassName value="fa" />
                    </CssClassConditional>
                    <CssClassConditional>
                      <ClassName value="fa-bell-slash-o" />
                    </CssClassConditional>
                    <CssClassConditional>
                      <ClassName value="cd-notification-clear" />
                    </CssClassConditional>
                  </CssClass>
                </Label>
              </Children>
              <CssClass>
                <CssClassConditional>
                  <ClassName value="{theme}-panel" />
                  <IsThemedStyle value="True" />
                </CssClassConditional>
              </CssClass>
            </Panel>
            <NotificationPanelStatusIcon identity="Notifications.7ff832fd4a2b4377bafd2e81a99bbcfc">
              <Name value="notificationPanelStatusIcon" />
              <controller reference="+GlobalApiObjects.notificationsCtrl" />
              <Panel.Height value="#" />
              <Panel.Width value="40px" />
            </NotificationPanelStatusIcon>
          </Children>
          <CssClass>
            <CssClassConditional>
              <ClassName value="{theme}-panel" />
              <IsThemedStyle value="True" />
            </CssClassConditional>
            <CssClassConditional>
              <ClassName value="{theme}-nav-bar-controls" />
              <IsThemedStyle value="True" />
            </CssClassConditional>
            <CssClassConditional>
              <ClassName value="{theme}-navToggler" />
              <IsThemedStyle value="True" />
            </CssClassConditional>
          </CssClass>
        </Panel>
        <Panel>
          <Name value="pnlMasterSplit" />
          <Orientation value="Horizontal" />
          <Panel.Height value="#" />
          <Panel.Width value="*" />
          <Children>
            <Panel>
              <Name value="pnlMasterLeft" />
              <Orientation value="Vertical" />
              <Panel.Height value="#" />
              <Panel.Width value="*" />
              <Bindings>
                <Binding SourceProperty="IsVisible" Expression="globals.forms.master.showMenu" />
              </Bindings>
              <Children>
                <Panel>
                  <Name value="pnlMasterMenu" />
                  <Orientation value="Vertical" />
                  <Panel.Height value="100%" />
                  <Panel.Width value="*" />
                  <Children>
                    <Label>
                      <Name value="lblAppName" />
                      <Heading value="h2" />
                      <Margin value="16, 6, 2, 6 px" />
                      <Panel.Height value="#" />
                      <Panel.Width value="*" />
                      <Bindings>
                        <Binding SourceProperty="Data" Expression="globals.appInfo.appName" />
                      </Bindings>
                      <CssClass>
                        <CssClassConditional>
                          <ClassName value="{theme}-label" />
                          <IsThemedStyle value="True" />
                        </CssClassConditional>
                      </CssClass>
                    </Label>
                    <Label>
                      <Name value="lblAppVersion" />
                      <Margin value="2, 6, 6, 6 px" />
                      <Panel.Height value="#" />
                      <Panel.VerticalAlignment value="Bottom" />
                      <Panel.Width value="*" />
                      <Bindings>
                        <Binding SourceProperty="Data" Expression="globals.appInfo.appVersion" />
                      </Bindings>
                      <CssClass>
                        <CssClassConditional>
                          <ClassName value="{theme}-label" />
                          <IsThemedStyle value="True" />
                        </CssClassConditional>
                      </CssClass>
                    </Label>
                    <Panel>
                      <Name value="pnlMasterNav" />
                      <Orientation value="Horizontal" />
                      <Panel.Height value="#" />
                      <Panel.Width value="*" />
                      <Bindings>
                        <Binding SourceProperty="IsVisible" Expression="globals.forms.master.isNavigationTreeVisible" />
                      </Bindings>
                      <Children>
                        <NavigationTree identity="NavigationTree.b87dd9f990504f86a481d689d499f644">
                          <Name value="navigationTree" />
                          <controller reference="+GlobalApiObjects.ntc" />
                          <Panel.Height value="#" />
                          <Panel.Width value="*" />
                          <OnNodeActivated>
                            <ActionEvent ReferencedAction="~handler_navigationTree_OnNodeActivated" />
                          </OnNodeActivated>
                        </NavigationTree>
                      </Children>
                      <CssClass>
                        <CssClassConditional>
                          <ClassName value="{theme}-panel" />
                          <IsThemedStyle value="True" />
                        </CssClassConditional>
                      </CssClass>
                    </Panel>
                    <Panel>
                      <Name value="pnlMasterExpired" />
                      <Orientation value="Horizontal" />
                      <OverflowHorizontal value="True" />
                      <Panel.Height value="#" />
                      <Panel.Width value="*" />
                      <Bindings>
                        <Binding SourceProperty="IsVisible" Expression="globals.forms.lists.selectedCdExpired" />
                      </Bindings>
                      <Children>
                        <Label>
                          <Name value="label_expired" />
                          <Data value="Expirované" />
                          <Panel.Height value="#" />
                          <Panel.Width value="*" />
                          <Bindings>
                            <Binding SourceProperty="IsVisible" Expression="globals.forms.lists.selectedCdExpired" />
                          </Bindings>
                          <CssClass>
                            <CssClassConditional>
                              <ClassName value="{theme}-label" />
                              <IsThemedStyle value="True" />
                            </CssClassConditional>
                          </CssClass>
                        </Label>
                      </Children>
                      <CssClass>
                        <CssClassConditional>
                          <ClassName value="{theme}-panel" />
                          <IsThemedStyle value="True" />
                        </CssClassConditional>
                      </CssClass>
                    </Panel>
                    <Panel>
                      <Name value="pnlMasterNavBottom" />
                      <Orientation value="Vertical" />
                      <Panel.Height value="100%" />
                      <Panel.Width value="*" />
                      <Children>
                        <Label>
                          <Name value="lblUser" />
                          <Margin value="6, 6, 0, 6 px" />
                          <Panel.Height value="#" />
                          <Panel.Width value="*" />
                          <Bindings>
                            <Binding SourceProperty="Data" Expression="globals.user.DisplayName" />
                          </Bindings>
                          <CssClass>
                            <CssClassConditional>
                              <ClassName value="{theme}-label" />
                              <IsThemedStyle value="True" />
                            </CssClassConditional>
                            <CssClassConditional>
                              <ClassName value="subMenu" />
                            </CssClassConditional>
                          </CssClass>
                        </Label>
                        <Label>
                          <Name value="lblCu" />
                          <Margin value="0, 6, 6, 6 px" />
                          <Panel.Height value="#" />
                          <Panel.Width value="*" />
                          <Bindings>
                            <Binding SourceProperty="Data" Expression="globals.user.CuCode" />
                          </Bindings>
                          <CssClass>
                            <CssClassConditional>
                              <ClassName value="{theme}-label" />
                              <IsThemedStyle value="True" />
                            </CssClassConditional>
                            <CssClassConditional>
                              <ClassName value="subMenu" />
                            </CssClassConditional>
                          </CssClass>
                        </Label>
                        <CheckBox>
                          <Name value="chbFilterCU" />
                          <Caption value="Pouze záznamy mého CÚ" />
                          <CaptionPosition value="Right" />
                          <Panel.Height value="#" />
                          <Panel.Width value="*" />
                          <Bindings>
                            <Binding SourceProperty="Data" Expression="model.filterCu" />
                            <Binding SourceProperty="IsVisible" Expression="ui.chbFilterCU.IsVisible" />
                            <Binding SourceProperty="IsRequiredMarkVisible" Expression="model.filterCu.isRequired()" />
                          </Bindings>
                          <CssClass>
                            <CssClassConditional>
                              <ClassName value="{theme}-checkbox" />
                              <IsThemedStyle value="True" />
                            </CssClassConditional>
                            <CssClassConditional>
                              <ClassName value="cd-checkbox" />
                            </CssClassConditional>
                          </CssClass>
                        </CheckBox>
                        <Label>
                          <Name value="lblRoles" />
                          <Panel.Height value="#" />
                          <Panel.Width value="*" />
                          <Bindings>
                            <Binding SourceProperty="Data" Expression="globals.user.rolesDesc" />
                          </Bindings>
                          <CssClass>
                            <CssClassConditional>
                              <ClassName value="{theme}-label" />
                              <IsThemedStyle value="True" />
                            </CssClassConditional>
                            <CssClassConditional>
                              <ClassName value="subMenu" />
                            </CssClassConditional>
                          </CssClass>
                        </Label>
                        <HyperLink>
                          <Name value="hlSettings" />
                          <Data value="Nastavení" />
                          <Panel.Height value="#" />
                          <Panel.Width value="*" />
                          <OnClick>
                            <ActionEvent ReferencedAction="~handler_hlSettings_OnClick" />
                          </OnClick>
                          <CssClass>
                            <CssClassConditional>
                              <ClassName value="{theme}-hyperlink" />
                              <IsThemedStyle value="True" />
                            </CssClassConditional>
                          </CssClass>
                        </HyperLink>
                        <HyperLink>
                          <Name value="hyperLink_dokumentace" />
                          <Data value="Dokumentace" />
                          <Href value="resources/dokumentace.pdf" />
                          <Panel.Height value="#" />
                          <Panel.Width value="*" />
                          <CssClass>
                            <CssClassConditional>
                              <ClassName value="{theme}-hyperlink" />
                              <IsThemedStyle value="True" />
                            </CssClassConditional>
                          </CssClass>
                        </HyperLink>
                      </Children>
                      <CssClass>
                        <CssClassConditional>
                          <ClassName value="{theme}-panel" />
                          <IsThemedStyle value="True" />
                        </CssClassConditional>
                        <CssClassConditional>
                          <ClassName value="asideMenuBox" />
                        </CssClassConditional>
                      </CssClass>
                    </Panel>
                  </Children>
                  <CssClass>
                    <CssClassConditional>
                      <ClassName value="{theme}-panel" />
                      <IsThemedStyle value="True" />
                    </CssClassConditional>
                    <CssClassConditional>
                      <ClassName value="nav-menu" />
                    </CssClassConditional>
                  </CssClass>
                </Panel>
              </Children>
              <CssClass>
                <CssClassConditional>
                  <ClassName value="{theme}-panel" />
                  <IsThemedStyle value="True" />
                </CssClassConditional>
                <CssClassConditional>
                  <ClassName value="{theme}-nav" />
                  <IsThemedStyle value="True" />
                  <Bindings>
                    <Binding SourceProperty="Condition" Expression="globals.forms.master.showMenu" />
                  </Bindings>
                </CssClassConditional>
                <CssClassConditional>
                  <ClassName value="{theme}-larger" />
                  <IsThemedStyle value="True" />
                </CssClassConditional>
              </CssClass>
            </Panel>
            <Panel>
              <Name value="pnlMasterRightHelper" />
              <Orientation value="Vertical" />
              <Panel.Height value="#" />
              <Panel.Width value="*" />
              <Children>
                <Panel>
                  <Name value="pnlMasterRight" />
                  <Orientation value="Horizontal" />
                  <Panel.Height value="#" />
                  <Panel.Width value="*" />
                  <Children>
                    <FormPlaceholder>
                      <Name value="formPlaceholder" />
                      <InitialForm reference="+UiParts.login" />
                      <Panel.Height value="#" />
                      <Panel.Width value="*" />
                    </FormPlaceholder>
                  </Children>
                  <CssClass>
                    <CssClassConditional>
                      <ClassName value="{theme}-panel" />
                      <IsThemedStyle value="True" />
                    </CssClassConditional>
                    <CssClassConditional>
                      <ClassName value="{theme}-content" />
                      <IsThemedStyle value="True" />
                    </CssClassConditional>
                    <CssClassConditional>
                      <ClassName value="use-sticky" />
                    </CssClassConditional>
                  </CssClass>
                </Panel>
              </Children>
              <CssClass>
                <CssClassConditional>
                  <ClassName value="{theme}-panel" />
                  <IsThemedStyle value="True" />
                </CssClassConditional>
              </CssClass>
            </Panel>
          </Children>
          <CssClass>
            <CssClassConditional>
              <ClassName value="{theme}-panel" />
              <IsThemedStyle value="True" />
            </CssClassConditional>
          </CssClass>
        </Panel>
        <Panel>
          <Name value="pnlApiObjects" />
          <Orientation value="Horizontal" />
          <Panel.Height value="#" />
          <Panel.Width value="*" />
          <Children>
            <BusyIndicator identity="busyIndicator.4a8ce8836eb04d7bbc155c7119f0193e">
              <Name value="busyIndicator" />
              <IconCssClass value="fa fa-refresh fa-spin" />
              <Panel.Height value="#" />
              <Panel.Width value="*" />
              <StatusText value="Počkejte, prosím ..." />
              <Bindings>
                <Binding SourceProperty="IsVisible" Expression="globals.IsBusy" />
              </Bindings>
            </BusyIndicator>
            <NotificationPanel identity="Notifications.7ff832fd4a2b4377bafd2e81a99bbcfc">
              <Name value="notificationPanel" />
              <controller reference="+GlobalApiObjects.notificationsCtrl" />
              <iconClassClose value="fa fa-times" />
              <iconClassDisplayGrowlNotifications value="fa fa-eye" />
              <iconClassError value="fa fa-exclamation" />
              <iconClassInfo value="fa fa-info-circle" />
              <iconClassSuccess value="fa fa-check-circle" />
              <iconClassWarning value="fa fa-exclamation-triangle" />
              <Panel.Height value="#" />
              <Panel.Width value="*" />
            </NotificationPanel>
            <GrowlNotification identity="Notifications.7ff832fd4a2b4377bafd2e81a99bbcfc">
              <Name value="growlNotification" />
              <controller reference="+GlobalApiObjects.notificationsCtrl" />
              <displayTime value="15000" />
              <iconClassClose value="fa fa-times" />
              <iconClassError value="fa fa-exclamation" />
              <iconClassInfo value="fa fa-info-circle" />
              <iconClassSuccess value="fa fa-check-circle" />
              <iconClassWarning value="fa fa-exclamation-triangle" />
              <Panel.Height value="#" />
              <Panel.Width value="*" />
            </GrowlNotification>
            <Label>
              <Name value="lblNotificationCount" />
              <Margin value="0, 0, 0, 0 px" />
              <Panel.Height value="#" />
              <Panel.Width value="*" />
              <Bindings>
                <Binding SourceProperty="Data" Expression="globals.forms.master.notificationCount" />
                <Binding SourceProperty="IsVisible" Expression="globals.forms.master.notificationCountVisible" />
              </Bindings>
              <CssClass>
                <CssClassConditional>
                  <ClassName value="{theme}-label" />
                  <IsThemedStyle value="True" />
                </CssClassConditional>
                <CssClassConditional>
                  <ClassName value="cd-notification-count" />
                </CssClassConditional>
              </CssClass>
            </Label>
          </Children>
        </Panel>
      </Children>
      <CssClass>
        <CssClassConditional>
          <ClassName value="{theme}-panel" />
          <IsThemedStyle value="True" />
        </CssClassConditional>
        <CssClassConditional>
          <ClassName value="closedNav" />
          <Bindings>
            <Binding SourceProperty="Condition" Expression="not globals.forms.master.showMenu" />
          </Bindings>
        </CssClassConditional>
      </CssClass>
    </Panel>
  </Content>
  <DataContext>
    <DataContext>
      <Children>
        <Complex>
          <Name value="model" />
          <Caption value="Model" />
          <Children>
            <Complex>
              <Name value="onNodeActivated" />
              <Caption value="On node activated" />
              <Children>
                <Include>
                  <Include reference="+DataEntities.onNodeActivatedEvent" />
                </Include>
              </Children>
            </Complex>
            <Attribute>
              <Name value="filterCu" />
              <Caption value="Filter cu" />
              <DeclaredType>
                <AttributeType>
                  <BaseType value="Bool" />
                </AttributeType>
              </DeclaredType>
              <OnChange>
                <ActionEvent ReferencedAction="+UiParts.master.handler_filterCu_OnChange" />
              </OnChange>
            </Attribute>
          </Children>
        </Complex>
        <Complex>
          <Name value="ui" />
          <Caption value="Ui" />
          <Children>
            <Computed>
              <Name value="isEnvironmentVisible" />
              <Caption value="Is environment visible" />
              <Expression IsValid="True">
                <ExpressionText><![CDATA[isTrue(globals.appInfo.environmentType <> "PROVOZ")]]></ExpressionText>
                <ResultType>
                  <BaseType value="Bool" />
                </ResultType>
              </Expression>
            </Computed>
            <Computed>
              <Name value="environmentTypeDesc" />
              <Caption value="Environment type desc" />
              <Expression IsValid="True">
                <ExpressionText><![CDATA[replaceString(globals.appInfo.environmentType, "_", " ")]]></ExpressionText>
                <ResultType>
                  <BaseType value="String" />
                </ResultType>
              </Expression>
            </Computed>
            <Complex>
              <Name value="chbFilterCU" />
              <Caption value="chbFilterCU" />
              <Children>
                <Computed>
                  <Name value="IsVisible" />
                  <Caption value="Is visible" />
                  <Expression IsValid="True">
                    <ExpressionText><![CDATA[isTrue(globals.forms.currentForm = "main_lists")]]></ExpressionText>
                    <ResultType>
                      <BaseType value="Bool" />
                    </ResultType>
                  </Expression>
                </Computed>
              </Children>
            </Complex>
          </Children>
        </Complex>
      </Children>
    </DataContext>
  </DataContext>
  <OnCreate>
    <ActionEvent ReferencedAction="~masterOnCreate" />
  </OnCreate>
  <Actions>
    <ActionBlock>
      <Name value="masterOnCreate" />
      <ActionLangBody IsValid="True">
        <Script><![CDATA[var isIE = actions.js_isInternetExplorer()
if isIE then
	var err = "Internet Exporer není podporovaný prohlížeč a aplikace nemusí správně fungovat. Podporované prohlížeče jsou aktuální verze Microsoft Edge a Google Chrome"
	system.consoleError(err)
	notificationsCtrl.addWarning(err)
endif

// Perform some general settings first
var appInfo = globals.appInfo
var master = globals.forms.master

master.showMenu = true
master.newSession = true

// initial NavTree setup
// To avoid console error later: Cannot process resetFinishedSetup of TreeNavigationController at this stage (0).
ntc.beginSetup("navTrees::_ntMaster", defaultString())
ntc.finishSetup()

// Turn-on/off specific future-features flags
globals.futureFeatures.nationalData = true
globals.futureFeatures.versionHistory = true
globals.futureFeatures.specificNationalData = true

// Nastavit proměnné
appInfo.appVersion = apiobjects.configValAppVersion.get()
appInfo.environmentType = apiobjects.appEnvironmentType.get()
appInfo.pageTitle = appInfo.appTitle

apiobjects.pageAPI.setLang("cs")
globals.forms.common.versionHistoryShown = false

// Login a data
apiobjects.cic.setVersion(globals.version)

// Service URL from Server Connection
globals.cicUrl = apiobjects.cic.getRootUrl()

// Nejsou realne ciselniky (ale dotazy nad neustale se menicimi tabulkami ASEO, viz ASEOCIC.webconfig)
// proto nema cenu nacitat zde, ale je treba dynamicky nacitat primo na formularich
/*
packages.codeLists.apiobjects.ASEOPerson.loadDataAsync(defaultDateTime())
packages.codeLists.apiobjects.ASEOPlace.loadDataAsync(defaultDateTime())
packages.codeLists.apiobjects.ASEOZST.loadDataAsync(defaultDateTime())
*/

// Load codelists
master.isDownloadingCodelists = true
codelistGroup.startBackgroundLoading(defaultDateTime())

// Zatim se nikde nepouzivaji
/* 
packages.codeLists.apiobjects.EventTypeEnum.loadDataAsync(defaultDateTime())
*/]]></Script>
      </ActionLangBody>
      <DataContext>
        <ActionDataContext />
      </DataContext>
    </ActionBlock>
    <ActionBlock>
      <Name value="handler_btn_toggleMenu_OnClick" />
      <IsPrivate value="True" />
      <ActionLangBody IsValid="True">
        <Script><![CDATA[globals.forms.master.showMenu = not globals.forms.master.showMenu

if globals.forms.master.showMenu then
	if notificationsCtrl.getCount() > 0 then
		notificationsCtrl.setPanelVisibility(true)
	endif
else
	notificationsCtrl.setPanelVisibility(false)
endif]]></Script>
      </ActionLangBody>
      <DataContext>
        <ActionDataContext />
      </DataContext>
    </ActionBlock>
    <ActionBlock>
      <Name value="handler_navigationTree_OnNodeActivated" />
      <IsPrivate value="True" />
      <ActionLangBody IsValid="True">
        <Script><![CDATA[var onNodeActivated = form.model.onNodeActivated

onNodeActivated.id = params.id
onNodeActivated.activatedByUser = params.activatedByUser

eventDispatcher.sendMessage("main_master_navTree", "onNodeActivated", onNodeActivated.toJson())]]></Script>
      </ActionLangBody>
      <DataContext>
        <ActionDataContext />
      </DataContext>
    </ActionBlock>
    <ActionBlock>
      <Name value="handler_codelistGroup_OnBackgroundLoadingFinished" />
      <IsPrivate value="True" />
      <ActionLangBody IsValid="True">
        <Script><![CDATA[var forms = packages.main.globals.forms 

forms.master.isDownloadingCodelists = false
eventDispatcher.sendMessage("main_master_codelistGroup", "onBackgroundLoadingFinished", defaultString())]]></Script>
      </ActionLangBody>
      <DataContext>
        <ActionDataContext />
      </DataContext>
    </ActionBlock>
    <ActionBlock>
      <Name value="handler_pnlClearNotifications_OnClick" />
      <IsPrivate value="True" />
      <ActionLangBody IsValid="True">
        <Script><![CDATA[notificationsCtrl.removeAll()
notificationsCtrl.setPanelVisibility(false)]]></Script>
      </ActionLangBody>
      <DataContext>
        <ActionDataContext />
      </DataContext>
    </ActionBlock>
    <ActionBlock>
      <Name value="handler_hlSettings_OnClick" />
      <IsPrivate value="True" />
      <ActionLangBody IsValid="True">
        <Script><![CDATA[navigation.main.settings.goAndBack()]]></Script>
      </ActionLangBody>
      <DataContext>
        <ActionDataContext />
      </DataContext>
    </ActionBlock>
    <ActionBlock>
      <Name value="handler_eventDispatcher_OnMessage" />
      <IsPrivate value="True" />
      <ActionLangBody IsValid="True">
        <Script><![CDATA[if params.source = "main_login" then	
	if params.type = "onAuthorizationCompled" then
		var user = globals.user
		
		// non helpdesk users have filterCu set by default
		if isFalse(user.hasRoleHelpdesk) then
			form.model.filterCu = true
		endif
	else
		system.consoleError("Invalid event type " + params.type)
	endif
endif]]></Script>
      </ActionLangBody>
      <DataContext>
        <ActionDataContext />
      </DataContext>
    </ActionBlock>
    <ActionBlock>
      <Name value="handler_filterCu_OnChange" />
      <IsPrivate value="True" />
      <ActionLangBody IsValid="True">
        <Script><![CDATA[globals.forms.master.filterCu = form.model.filterCu

eventDispatcher.sendMessage("main_master_filterCu", "onFilterCuChanged", defaultString())]]></Script>
      </ActionLangBody>
      <DataContext>
        <ActionDataContext />
      </DataContext>
    </ActionBlock>
  </Actions>
  <ApiObjects>
    <EventDispatcher identity="EventDispatcher.eb764ceb30274f1e9a3d051d512d6b26">
      <Name value="eventDispatcher" />
      <OnMessage>
        <ActionEvent ReferencedAction="~handler_eventDispatcher_OnMessage" />
      </OnMessage>
    </EventDispatcher>
    <CodelistGroup identity="Codelist.2fd2d7af4a6d445bad8a58610632f8e0">
      <Name value="codelistGroup" />
      <server reference="+GlobalApiObjects.cic" />
      <OnBackgroundLoadingFinished>
        <ActionEvent ReferencedAction="~handler_codelistGroup_OnBackgroundLoadingFinished" />
      </OnBackgroundLoadingFinished>
      <codelists>
        <CodelistGroupMember identity="Codelist.2fd2d7af4a6d445bad8a58610632f8e0">
          <codelist reference="/(codeLists.2e35af8e5b484554915da40c527c1148)+GlobalApiObjects.CEL_UR" />
        </CodelistGroupMember>
        <CodelistGroupMember identity="Codelist.2fd2d7af4a6d445bad8a58610632f8e0">
          <codelist reference="/(codeLists.2e35af8e5b484554915da40c527c1148)+GlobalApiObjects.CELUPLAT_R" />
        </CodelistGroupMember>
        <CodelistGroupMember identity="Codelist.2fd2d7af4a6d445bad8a58610632f8e0">
          <codelist reference="/(codeLists.2e35af8e5b484554915da40c527c1148)+GlobalApiObjects.CELURAD" />
        </CodelistGroupMember>
        <CodelistGroupMember identity="Codelist.2fd2d7af4a6d445bad8a58610632f8e0">
          <codelist reference="/(codeLists.2e35af8e5b484554915da40c527c1148)+GlobalApiObjects.CELUTVAR" />
        </CodelistGroupMember>
        <CodelistGroupMember identity="Codelist.2fd2d7af4a6d445bad8a58610632f8e0">
          <codelist reference="/(codeLists.2e35af8e5b484554915da40c527c1148)+GlobalApiObjects.JMODPIS_ASEO" />
        </CodelistGroupMember>
        <CodelistGroupMember identity="Codelist.2fd2d7af4a6d445bad8a58610632f8e0">
          <codelist reference="/(codeLists.2e35af8e5b484554915da40c527c1148)+GlobalApiObjects.POVOLDUOD" />
        </CodelistGroupMember>
        <CodelistGroupMember identity="Codelist.2fd2d7af4a6d445bad8a58610632f8e0">
          <codelist reference="/(codeLists.2e35af8e5b484554915da40c527c1148)+GlobalApiObjects.REZIM4" />
        </CodelistGroupMember>
        <CodelistGroupMember identity="Codelist.2fd2d7af4a6d445bad8a58610632f8e0">
          <codelist reference="/(codeLists.2e35af8e5b484554915da40c527c1148)+GlobalApiObjects.SuspendingReason" />
        </CodelistGroupMember>
        <CodelistGroupMember identity="Codelist.2fd2d7af4a6d445bad8a58610632f8e0">
          <codelist reference="/(codeLists.2e35af8e5b484554915da40c527c1148)+GlobalApiObjects.SuspendingReason" />
        </CodelistGroupMember>
        <CodelistGroupMember identity="Codelist.2fd2d7af4a6d445bad8a58610632f8e0">
          <codelist reference="/(codeLists.2e35af8e5b484554915da40c527c1148)+GlobalApiObjects.TypeOfPaybackPeriodEnum" />
        </CodelistGroupMember>
        <CodelistGroupMember identity="Codelist.2fd2d7af4a6d445bad8a58610632f8e0">
          <codelist reference="/(codeLists.2e35af8e5b484554915da40c527c1148)+GlobalApiObjects.ZADUZAM" />
        </CodelistGroupMember>
        <CodelistGroupMember identity="Codelist.2fd2d7af4a6d445bad8a58610632f8e0">
          <codelist reference="/(codeLists.2e35af8e5b484554915da40c527c1148)+GlobalApiObjects.ZAKZEME" />
        </CodelistGroupMember>
        <CodelistGroupMember identity="Codelist.2fd2d7af4a6d445bad8a58610632f8e0">
          <codelist reference="/(codeLists.2e35af8e5b484554915da40c527c1148)+GlobalApiObjects.ZBOZIKOD" />
        </CodelistGroupMember>
        <CodelistGroupMember identity="Codelist.2fd2d7af4a6d445bad8a58610632f8e0">
          <codelist reference="/(codeLists.2e35af8e5b484554915da40c527c1148)+GlobalApiObjects.ZEME_O" />
        </CodelistGroupMember>
        <CodelistGroupMember identity="Codelist.2fd2d7af4a6d445bad8a58610632f8e0">
          <codelist reference="/(codeLists.2e35af8e5b484554915da40c527c1148)+GlobalApiObjects.ZJPLHUTA" />
        </CodelistGroupMember>
        <CodelistGroupMember identity="Codelist.2fd2d7af4a6d445bad8a58610632f8e0">
          <codelist reference="/(codeLists.2e35af8e5b484554915da40c527c1148)+GlobalApiObjects.ZJPZAJIST" />
        </CodelistGroupMember>
        <CodelistGroupMember identity="Codelist.2fd2d7af4a6d445bad8a58610632f8e0">
          <codelist reference="/(codeLists.2e35af8e5b484554915da40c527c1148)+GlobalApiObjects.ZPZAST" />
        </CodelistGroupMember>
        <CodelistGroupMember identity="Codelist.2fd2d7af4a6d445bad8a58610632f8e0">
          <codelist reference="/(codeLists.2e35af8e5b484554915da40c527c1148)+GlobalApiObjects.ZAKKOM_V" />
        </CodelistGroupMember>
        <CodelistGroupMember identity="Codelist.2fd2d7af4a6d445bad8a58610632f8e0">
          <codelist reference="/(codeLists.2e35af8e5b484554915da40c527c1148)+GlobalApiObjects.ZAKKOM_D" />
        </CodelistGroupMember>
        <CodelistGroupMember identity="Codelist.2fd2d7af4a6d445bad8a58610632f8e0">
          <codelist reference="/(codeLists.2e35af8e5b484554915da40c527c1148)+GlobalApiObjects.ZAKKOM_T" />
        </CodelistGroupMember>
        <CodelistGroupMember identity="Codelist.2fd2d7af4a6d445bad8a58610632f8e0">
          <codelist reference="/(codeLists.2e35af8e5b484554915da40c527c1148)+GlobalApiObjects.TypeOfTimerEnum" />
        </CodelistGroupMember>
        <CodelistGroupMember identity="Codelist.2fd2d7af4a6d445bad8a58610632f8e0">
          <codelist reference="/(codeLists.2e35af8e5b484554915da40c527c1148)+GlobalApiObjects.POVOLTYP" />
        </CodelistGroupMember>
        <CodelistGroupMember identity="Codelist.2fd2d7af4a6d445bad8a58610632f8e0">
          <codelist reference="/(codeLists.2e35af8e5b484554915da40c527c1148)+GlobalApiObjects.ZEMEEU" />
        </CodelistGroupMember>
        <CodelistGroupMember identity="Codelist.2fd2d7af4a6d445bad8a58610632f8e0">
          <codelist reference="/(codeLists.2e35af8e5b484554915da40c527c1148)+GlobalApiObjects.CELU_GUA" />
        </CodelistGroupMember>
        <CodelistGroupMember identity="Codelist.2fd2d7af4a6d445bad8a58610632f8e0">
          <codelist reference="/(codeLists.2e35af8e5b484554915da40c527c1148)+GlobalApiObjects.TYPODKLPLA" />
        </CodelistGroupMember>
        <CodelistGroupMember identity="Codelist.2fd2d7af4a6d445bad8a58610632f8e0">
          <codelist reference="/(codeLists.2e35af8e5b484554915da40c527c1148)+GlobalApiObjects.ZEME" />
        </CodelistGroupMember>
      </codelists>
    </CodelistGroup>
  </ApiObjects>
</Form>